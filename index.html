<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>血圧測定・心電図・息止め練習</title>
<style>
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Hiragino Sans","Segoe UI",sans-serif;
background:linear-gradient(180deg,#f7fbff,#eef6ff);color:#0f172a;}
.header{padding:18px 16px 10px;}
.frame-title{border:2px solid #38bdf8;padding:14px 16px;border-radius:14px;background:#f8fcff;text-align:center;}
.frame-title h1{margin:0;font-size:20px;}
.frame-title p{margin:6px 0 0;font-size:14px;color:#475569;}
.note{font-size:12px;color:#475569;margin:12px 16px;}
.main{margin:0 16px 24px;padding:16px;background:#fff;border-radius:18px;box-shadow:0 8px 18px rgba(15,23,42,.08);}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
select{flex:1;max-width:100%;font-size:16px;padding:10px 36px 10px 12px;border-radius:12px;border:1px solid #cbd5f5;
overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
button{font-size:15px;padding:10px 14px;border-radius:12px;border:1px solid #cbd5f5;background:#eff6ff;}
button:active{transform:scale(.98);}
.label{margin-top:14px;font-size:13px;color:#475569;}
.jp{font-size:18px;font-weight:600;margin-top:6px;}
.en{font-size:16px;margin-top:4px;}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px;}
audio{width:100%;margin-top:10px;}
.status{margin-top:8px;font-size:13px;color:#475569;}
.hint{margin-top:10px;font-size:12px;color:#64748b;}
</style>
</head>
<body>
<div class="header">
  <div class="frame-title">
    <h1>血圧測定・心電図・息止め練習</h1>
    <p>English Audio Guide</p>
  </div>
</div>

<p class="note">※ iPhone / iPad / Android で再生できます。最初は「再生」を押してください。</p>

<div class="main">
  <div class="row">
    <select id="sel"></select>
    <button id="prev">← 前</button>
    <button id="next">次 →</button>
  </div>

  <div class="label">日本語（内容）</div>
  <div class="jp" id="jp"></div>

  <div class="label">English (Script)</div>
  <div class="en" id="en"></div>

  <div class="controls">
    <button id="play">▶︎ 再生</button>
    <button id="pause">⏸ 一時停止</button>
    <button id="replay">↻ もう一度</button>
  </div>

  <div class="status" id="status">待機中 / Ready</div>
  <audio id="player" controls></audio>

  <div class="hint">
    再生できない場合：消音モード解除、音量、Bluetooth接続を確認してください。
  </div>
</div>

<script>
const STEPS = [{'preview': 'ステップ 1 の説明…', 'jp': '（日本語全文）ステップ 1 の説明文です。', 'en': '(English full text) This is the full script for step 1.'}, {'preview': 'ステップ 2 の説明…', 'jp': '（日本語全文）ステップ 2 の説明文です。', 'en': '(English full text) This is the full script for step 2.'}, {'preview': 'ステップ 3 の説明…', 'jp': '（日本語全文）ステップ 3 の説明文です。', 'en': '(English full text) This is the full script for step 3.'}, {'preview': 'ステップ 4 の説明…', 'jp': '（日本語全文）ステップ 4 の説明文です。', 'en': '(English full text) This is the full script for step 4.'}, {'preview': 'ステップ 5 の説明…', 'jp': '（日本語全文）ステップ 5 の説明文です。', 'en': '(English full text) This is the full script for step 5.'}, {'preview': 'ステップ 6 の説明…', 'jp': '（日本語全文）ステップ 6 の説明文です。', 'en': '(English full text) This is the full script for step 6.'}, {'preview': 'ステップ 7 の説明…', 'jp': '（日本語全文）ステップ 7 の説明文です。', 'en': '(English full text) This is the full script for step 7.'}, {'preview': 'ステップ 8 の説明…', 'jp': '（日本語全文）ステップ 8 の説明文です。', 'en': '(English full text) This is the full script for step 8.'}, {'preview': 'ステップ 9 の説明…', 'jp': '（日本語全文）ステップ 9 の説明文です。', 'en': '(English full text) This is the full script for step 9.'}, {'preview': 'ステップ 10 の説明…', 'jp': '（日本語全文）ステップ 10 の説明文です。', 'en': '(English full text) This is the full script for step 10.'}, {'preview': 'ステップ 11 の説明…', 'jp': '（日本語全文）ステップ 11 の説明文です。', 'en': '(English full text) This is the full script for step 11.'}, {'preview': 'ステップ 12 の説明…', 'jp': '（日本語全文）ステップ 12 の説明文です。', 'en': '(English full text) This is the full script for step 12.'}, {'preview': 'ステップ 13 の説明…', 'jp': '（日本語全文）ステップ 13 の説明文です。', 'en': '(English full text) This is the full script for step 13.'}, {'preview': 'ステップ 14 の説明…', 'jp': '（日本語全文）ステップ 14 の説明文です。', 'en': '(English full text) This is the full script for step 14.'}, {'preview': 'ステップ 15 の説明…', 'jp': '（日本語全文）ステップ 15 の説明文です。', 'en': '(English full text) This is the full script for step 15.'}, {'preview': 'ステップ 16 の説明…', 'jp': '（日本語全文）ステップ 16 の説明文です。', 'en': '(English full text) This is the full script for step 16.'}, {'preview': 'ステップ 17 の説明…', 'jp': '（日本語全文）ステップ 17 の説明文です。', 'en': '(English full text) This is the full script for step 17.'}, {'preview': 'ステップ 18 の説明…', 'jp': '（日本語全文）ステップ 18 の説明文です。', 'en': '(English full text) This is the full script for step 18.'}, {'preview': 'ステップ 19 の説明…', 'jp': '（日本語全文）ステップ 19 の説明文です。', 'en': '(English full text) This is the full script for step 19.'}, {'preview': 'ステップ 20 の説明…', 'jp': '（日本語全文）ステップ 20 の説明文です。', 'en': '(English full text) This is the full script for step 20.'}, {'preview': 'ステップ 21 の説明…', 'jp': '（日本語全文）ステップ 21 の説明文です。', 'en': '(English full text) This is the full script for step 21.'}, {'preview': 'ステップ 22 の説明…', 'jp': '（日本語全文）ステップ 22 の説明文です。', 'en': '(English full text) This is the full script for step 22.'}, {'preview': 'ステップ 23 の説明…', 'jp': '（日本語全文）ステップ 23 の説明文です。', 'en': '(English full text) This is the full script for step 23.'}, {'preview': 'ステップ 24 の説明…', 'jp': '（日本語全文）ステップ 24 の説明文です。', 'en': '(English full text) This is the full script for step 24.'}, {'preview': 'ステップ 25 の説明…', 'jp': '（日本語全文）ステップ 25 の説明文です。', 'en': '(English full text) This is the full script for step 25.'}];

const sel=document.getElementById('sel'),
jp=document.getElementById('jp'),
en=document.getElementById('en'),
player=document.getElementById('player'),
status=document.getElementById('status');

STEPS.forEach((s,i)=>{
 const o=document.createElement('option');
 o.value=i;
 o.textContent=`${String(i+1).padStart(2,'0')}｜${s.jp}`;
 sel.appendChild(o);
});

let idx=0;
function load(i){
 idx=Math.max(0,Math.min(STEPS.length-1,i));
 sel.value=idx;
 jp.textContent=STEPS[idx].jp;
 en.textContent=STEPS[idx].en;
 player.src=`audio/step_${String(idx+1).padStart(2,'0')}.m4a`;
 status.textContent="待機中 / Ready";
}
sel.onchange=()=>load(parseInt(sel.value));
document.getElementById('prev').onclick=()=>load(idx-1);
document.getElementById('next').onclick=()=>load(idx+1);
document.getElementById('play').onclick=()=>player.play();
document.getElementById('pause').onclick=()=>player.pause();
document.getElementById('replay').onclick=()=>{player.currentTime=0;player.play();};
player.onplay=()=>status.textContent="再生中 / Playing";
player.onpause=()=>status.textContent="一時停止 / Paused";
player.onended=()=>status.textContent="待機中 / Ready";
load(0);
</script>
</body>
</html>
